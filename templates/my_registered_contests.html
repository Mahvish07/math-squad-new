{% extends 'layout.html' %}

{% block title %}
<title>My Registered Contests</title>
{% endblock title %}

{% block content %}
<section class="relative py-20 overflow-hidden bg-dark-900 min-h-screen">
    <!-- Decorative Math Symbols -->
    <div class="absolute inset-0 z-0 opacity-20 pointer-events-none">
        <div class="absolute text-7xl text-neon-pink animate-float-slow" style="top: 10%; left: 8%;">âˆ‘</div>
        <div class="absolute text-7xl text-neon-blue animate-float" style="top: 25%; left: 85%;">Ï€</div>
        <div class="absolute text-7xl text-neon-green animate-float-fast" style="top: 70%; left: 20%;">âˆž</div>
        <div class="absolute text-7xl text-neon-yellow animate-float-slow" style="top: 60%; left: 80%;">âˆš</div>
        <div class="absolute text-7xl text-neon-purple animate-float" style="top: 85%; left: 40%;">âˆ«</div>
    </div>
    <div class="container mx-auto px-4 relative z-10">
        <h1 class="text-4xl font-bold mb-12 text-center">
            <span class="relative inline-block">
                <span class="text-gradient bg-gradient-to-r from-neon-green to-neon-blue">My Registered Contests</span>
                <span class="absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-neon-green to-neon-blue rounded-full"></span>
            </span>
        </h1>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            {% for contest in contests %}
            <div class="contest-card dark-glass p-6 rounded-lg shadow-lg border border-neon-blue/30 hover:border-neon-blue transition-all duration-300 flex flex-col">
                {% if contest.image %}
                <img src="{{ contest.image.url }}" alt="{{ contest.name }}" class="w-full h-48 object-cover rounded-lg mb-4 border border-neon-blue/40">
                {% else %}
                <div class="w-full h-48 flex items-center justify-center bg-dark-800 rounded-lg mb-4 border border-neon-blue/20 text-neon-blue text-5xl">
                    <span>ðŸ§®</span>
                </div>
                {% endif %}
                <h2 class="text-2xl font-bold text-white mb-2">{{ contest.name }}</h2>
                <p class="text-gray-400 mb-4">{{ contest.description|truncatewords:20 }}</p>
                <div class="flex flex-col gap-1 mb-4">
                    <span class="text-gray-300"><strong>Category:</strong> {{ contest.category }}</span>
                    <span class="text-gray-300"><strong>Start:</strong> {{ contest.date }}</span>
                </div>
                <div class="mt-auto flex flex-col gap-2">
                    <a href="{% url 'attempt_contest' contest.id %}" class="inline-block px-6 py-2 bg-neon-pink text-white font-semibold rounded-lg glow-pink hover:bg-white hover:text-neon-pink transition-all duration-300 text-center">
                        Attempt
                    </a>
                    <a href="#" class="inline-block px-6 py-2 bg-neon-blue text-white font-semibold rounded-lg glow-blue hover:bg-white hover:text-neon-blue transition-all duration-300 text-center">
                        View Details
                    </a>
                </div>
            </div>
            {% empty %}
            <div class="col-span-full text-center text-gray-400 text-lg py-12">
                You have not registered for any contests yet.
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock content %}